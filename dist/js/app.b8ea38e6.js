(function(e){function t(t){for(var n,c,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},r=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("85ec"),o=a.n(n);o.a},"4dcb":function(e,t,a){},"4ee2":function(e,t,a){},"51e8":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"movieModule",(function(){return u})),a.d(n,"searchModule",(function(){return p}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=(a("99af"),a("5530")),c=a("bc3a"),i=a.n(c),s={};s.getModule=function(e,t){try{return i()({method:"get",baseURL:"https://www.kobis.or.kr/kobisopenapi/webservice/rest".concat(e),params:Object(r["a"])({},t)})}catch(a){return console.error("[API][movieModule] getModule is failed url: ".concat(e,", error: ").concat(a))}};var u=s,l={},d="https://vuestudymovieserver-clwlh.run.goorm.io";l.getModule=function(e,t){try{return i()({method:"get",headers:{Pragma:"no-cache","Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},baseURL:d+e,params:Object(r["a"])({},t)})}catch(a){return console.error("[API][searchModule] getModule is failed url: ".concat(e,", error: ").concat(a))}};var p=l,f={};f=Object.assign({},n),f.sample=function(){try{return console.log("sample function")}catch(e){return console.log("sample function, error: ".concat(e))}};var m={install:function(e){e.prototype.$globalFunctions=f}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(m);var v=m,h=a("7212"),_=a.n(h),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},O=[],g=(a("034f"),a("2877")),M={},E=Object(g["a"])(M,b,O,!1,null,null,null),k=E.exports,w=a("8c4f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layoutDefault"},[e._m(0),a("router-view"),a("div",{staticClass:"footer"},[e._v(" Copyright ⓒ 2020 by Gna All Rights Reserved. ")])],1)},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("a",{attrs:{href:"/home"}},[n("img",{attrs:{src:a("649f"),alt:"아이콘로고"}})]),n("a",{attrs:{href:"/search"}},[e._v("SEARCH"),n("br"),e._v("MOVIE")]),n("a",{attrs:{href:"/theater"}},[e._v("LOCATION"),n("br"),e._v("THEATER")])])}],x=(a("6608"),{}),y=Object(g["a"])(x,S,C,!1,null,"661c1b49",null),I=y.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"movie"},[a("div",{staticClass:"wrap-boxoffice"},[a("h2",[e._v("BoxOffice Top10")]),e.loadFinished?e._e():a("div",{staticClass:"loader-box"},[a("div",{staticClass:"loader"})]),e.loadFinished?a("swiper",{ref:"mySwiper",staticClass:"boxoffice-list",attrs:{options:e.swiperOption}},e._l(e.boxOfficeData.dailyBoxOfficeList,(function(t,n){return a("swiper-slide",{key:n},[a("a",{attrs:{href:e.rcmMovieData[n].items[0]?e.rcmMovieData[n].items[0].link:""}},[a("figure",[a("img",{attrs:{src:e.rcmMovieData[n].items[0]?e.rcmMovieData[n].items[0].image:"",alt:"포스터 이미지"}})]),a("span",{staticClass:"num point-color"},[e._v(e._s(n+1))]),a("strong",[e._v(e._s(t.movieNm))]),a("p",[e._v(" 개봉일 : "+e._s(t.openDt)+" "),a("br"),e._v(" 누적관객수: "+e._s(t.audiAcc)+" "),a("br"),e._v(" 평점: "),a("span",{staticClass:"point-color"},[e._v("★"+e._s(e.rcmMovieData[n].items[0]?e.rcmMovieData[n].items[0].userRating:""))])])])])})),1):e._e()],1)])},T=[],A=(a("caad"),a("ac1f"),a("2532"),a("5319"),a("96cf"),a("1da1")),R={SET_BOXOFFICE_LIST:"SET_BOXOFFICE_LIST",SET_SEARCH_MOVIE:"SET_SEARCH_MOVIE",SET_BO_SEARCH_MOVIE:"SET_BO_SEARCH_MOVIE",SET_KMDB_SEARCH_MOVIE:"SET_KMDB_SEARCH_MOVIE"},L=R,j={ACTION_BOXOFFICE_LIST:"ACTION_BOXOFFICE_LIST",ACTION_SEARCH_MOVIE:"ACTION_SEARCH_MOVIE",ACTION_BO_SEARCH_MOVIE:"ACTION_BO_SEARCH_MOVIE",ACTION_KMDB_SEARCH_MOVIE:"ACTION_KMDB_SEARCH_MOVIE"},B=j,H={name:"Home",components:{},data:function(){return{loadFinished:!1,boxOfficekey:"b12f2221d401b22dda7ce6f92ea46fbb",boxOfficeData:"",todayDate:"",boMovieData:[],rcmMovieData:[],kmdbRcmMovieData:[],swiperOption:{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:1.6,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1},autoplay:{delay:2e3}}}},computed:{swiper:function(){return this.$refs.mySwiper.$swiper}},mounted:function(){this.todayDate=new Date,this.todayDate=this.getFormatDate(this.todayDate),this.loadView()},methods:{loadView:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={key:e.boxOfficekey,targetDt:e.todayDate,itemPerPage:"",multiMovieYn:"",repNationCd:"",wideAreaCd:""},t.next=3,e.$store.dispatch(B.ACTION_BOXOFFICE_LIST,a);case 3:for(e.boxOfficeData=e.$store.state.movie.boxOfficeListData,n=0;n<10;n++)e.boMovieData.push(e.boxOfficeData.dailyBoxOfficeList[n].movieNm),e.boMovieData[n].includes("#")?e.boMovieData[n]=e.boMovieData[n].replace(/#/g,""):e.boMovieData[n].includes(":익스텐디드")&&(e.boMovieData[n]=e.boMovieData[n].replace(/:익스텐디드/g,""));return t.next=7,e.boSearchMovie();case 7:return t.next=9,e.kmdbSearchMovie();case 9:case"end":return t.stop()}}),t)})))()},getFormatDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a>=10?a:"0".concat(a);var n=e.getDate()-1;return n=n>=10?n:"0".concat(n),"".concat(t).concat(a).concat(n)},boSearchMovie:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.boMovieData,t.next=3,e.$store.dispatch(B.ACTION_BO_SEARCH_MOVIE,a);case 3:e.rcmMovieData=e.$store.state.movie.boSearchMovieData.result,e.loadFinished=10===e.rcmMovieData.length;case 5:case"end":return t.stop()}}),t)})))()},kmdbSearchMovie:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={genre:"드라마"},t.next=3,e.$store.dispatch(B.ACTION_KMDB_SEARCH_MOVIE,a);case 3:e.kmdbRcmMovieData=e.$store.state.movie.kmdbSearchMovieData.result.Data[0].Result;case 4:case"end":return t.stop()}}),t)})))()}}},V=H,P=(a("580c"),Object(g["a"])(V,D,T,!1,null,"89dd758a",null)),F=P.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("div",{staticClass:"wrap-search-movie"},[a("div",{staticClass:"search-area"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"영화 제목을 입력해주세요."},domProps:{value:e.searchText},on:{input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),a("button",{on:{click:function(t){return e.searchMovie()}}})]),a("ul",e._l(e.searchMovieData.items,(function(t,n){return a("li",{key:n},[a("a",{attrs:{href:t.link}},[a("figure",[a("img",{attrs:{src:t.image,alt:""}})]),a("div",{staticClass:"info-txt"},[a("strong",{domProps:{innerHTML:e._s(t.title)}}),a("br"),a("span",[e._v(e._s(t.pubDate))]),a("p",[e._v(e._s(t.actor))]),a("p",[e._v(e._s(t.director))]),a("p",{staticClass:"point-color"},[e._v("★"+e._s(t.userRating))])])])])})),0)])])},$=[],K={name:"Search",components:{},data:function(){return{searchText:"",searchMovieData:""}},methods:{searchMovie:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={query:e.searchText,display:"100",start:1,genre:"",country:"",yearfrom:"",yearto:""},t.next=3,e.$store.dispatch(B.ACTION_SEARCH_MOVIE,a);case 3:e.searchMovieData=e.$store.state.movie.searchMovieData.result;case 4:case"end":return t.stop()}}),t)})))()}}},X=K,z=(a("6ccb"),Object(g["a"])(X,N,$,!1,null,"4c670ddf",null)),U=z.exports,J=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},W=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"theater"},[a("p",{staticClass:"info-txt"},[a("span",[e._v("※")]),e._v(" 영화관 목록은 가까운 위치순으로 정렬")]),a("div",{attrs:{id:"mapArea"}}),a("div",{attrs:{id:"wrapPlacesList"}},[a("ul",{attrs:{id:"placesList"}})])])}],Y=(a("d81d"),{name:"Home",components:{},data:function(){return{mapKey:"1adb5927a691a043afeccb8a25ce1118",searchPosition:"",markers:[]}},mounted:function(){window.kakao&&window.kakao.maps?this.initMap():this.addScript()},methods:{addScript:function(){var e=this,t=document.createElement("script");t.onload=function(){return kakao.maps.load(e.initMap)},t.src="https://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=".concat(this.mapKey,"&libraries=services"),document.head.appendChild(t)},initMap:function(){var e=this,t=document.getElementById("mapArea"),a={center:new kakao.maps.LatLng(33.450701,126.570667),level:3},n=new kakao.maps.Map(t,a),o=new kakao.maps.services.Places,r=function(t,a,o){var r=new kakao.maps.Marker({map:e.map,position:t}),c=new kakao.maps.InfoWindow({zIndex:1,content:a,removable:!0});n.setCenter(t),"myLocation"===o?c.open(n,r):(r.setMap(n),e.markers.push(r))};navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,c=t.coords.longitude,i=new kakao.maps.LatLng(a,c),s='<div style="padding:5px">여기에 계신가요?!</div>',u=new kakao.maps.InfoWindow({zIndex:1}),l=function(e){while(e.hasChildNodes())e.removeChild(e.lastChild)},d=function(){for(var t=0;t<e.markers.length;t++)e.markers[t].setMap(null);e.markers=[]},p=function(t,a,o){var r="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png",c=new kakao.maps.Size(36,37),i={spriteSize:new kakao.maps.Size(36,691),spriteOrigin:new kakao.maps.Point(0,46*a+10),offset:new kakao.maps.Point(13,37)},s=new kakao.maps.MarkerImage(r,c,i),u=new kakao.maps.Marker({position:t,image:s});return u.setMap(n),e.markers.push(u),u},f=function(e,t){var a=document.createElement("li"),n='<p style="padding:10px 10px 10px 20px; border-bottom: 1px dashed #ccc;"><strong style="display:block; padding-bottom:5px; font-weight:700; font-size:14px;"> <span style="color:#e74c3c; margin-left:-15px; padding-right:8px;">'.concat(e+1,"</span>").concat(t.place_name,"</strong>").concat(t.address_name,'<br/><a href="tel:').concat(t.phone,'" style="display:block; padding-top:5px; color:#e74c3c;">').concat(t.phone,"</a></p>\t");return a.innerHTML=n,a.className="item",a},m=function(e,t){var a='<div style="padding:5px;z-index:1;">'.concat(t,"</div>");u.setContent(a),u.open(n,e)},v=function(e){var t=document.getElementById("placesList"),a=document.getElementById("wrapPlacesList"),o=document.createDocumentFragment(),r=new kakao.maps.LatLngBounds;l(t),d();for(var c=function(t){var a=new kakao.maps.LatLng(e[t].y,e[t].x),n=p(a,t),c=f(t,e[t]);r.extend(a),function(e,t){kakao.maps.event.addListener(e,"mouseover",(function(){m(e,t)})),kakao.maps.event.addListener(e,"mouseout",(function(){u.close()})),c.onmouseover=function(){m(e,t)},c.onmouseout=function(){u.close()}}(n,e[t].place_name),o.appendChild(c)},i=0;i<e.length;i++)c(i);t.appendChild(o),a.scrollTop=0,n.setBounds(r)},h=function(t,a){if(a===kakao.maps.services.Status.OK){e.searchPosition=t;for(var o=new kakao.maps.LatLngBounds,c=0;c<e.searchPosition.length;c++)r(new kakao.maps.LatLng(e.searchPosition[c].y,e.searchPosition[c].x),s,"theaterLocation"),o.extend(new kakao.maps.LatLng(e.searchPosition[c].y,e.searchPosition[c].x));n.setBounds(o),v(t)}},_={radius:2e3,location:i,sort:"distance"};o.keywordSearch("영화관",h,_),r(i,s,"myLocation")})):alert("현재위치를 잡지 못해서 영화관을 검색할 수 없습니다.")}}}),q=Y,G=(a("af56"),Object(g["a"])(q,J,W,!1,null,"5426d6eb",null)),Q=G.exports,Z=[{path:"/home",name:"homeViewDefault",component:F},{path:"/search",name:"Search",component:U},{path:"/theater",name:"Theater",component:Q}],ee=Z;o["default"].use(w["a"]);var te=[{path:"/",name:"Home",component:I,children:ee}],ae=new w["a"]({mode:"history",base:"/",routes:te});ae.beforeEach((function(e,t,a){console.log("router.beforeEach"),console.log("to:",e),console.log("from:",t),a()}));var ne,oe=ae,re=a("2f62"),ce={boxOfficeListData:{},searchMovieData:{},boSearchMovieData:{},kmdbSearchMovieData:{}},ie=ce,se=a("ade3"),ue=a("53ca"),le=(ne={},Object(se["a"])(ne,L.SET_BOXOFFICE_LIST,(function(e,t){try{"object"===Object(ue["a"])(t)&&(e.boxOfficeListData=t)}catch(a){console.error("[commonMutationType.SET_BOXOFFICE_LIST] error: ".concat(a))}})),Object(se["a"])(ne,L.SET_SEARCH_MOVIE,(function(e,t){try{"object"===Object(ue["a"])(t)&&(e.searchMovieData=t),console.log("state:",e),console.log("payload:",t)}catch(a){console.error("[commonMutationType.SET_SEARCH_MOVIE] error: ".concat(a))}})),Object(se["a"])(ne,L.SET_BO_SEARCH_MOVIE,(function(e,t){try{"object"===Object(ue["a"])(t)&&(e.boSearchMovieData=t)}catch(a){console.error("[commonMutationType.SET_BO_SEARCH_MOVIE] error: ".concat(a))}})),Object(se["a"])(ne,L.SET_KMDB_SEARCH_MOVIE,(function(e,t){try{"object"===Object(ue["a"])(t)&&(e.kmdbSearchMovieData=t)}catch(a){console.error("[commonMutationType.SET_SEARCH_MOVIE] error: ".concat(a))}})),ne),de=le,pe={boxOfficeListData:function(e){return e.boxOfficeListData},searchMovieData:function(e){return e.searchMovieData},boSearchMovieData:function(e){return e.boSearchMovieData},kmdbSearchMovieData:function(e){return e.kmdbSearchMovieData}},fe=pe,me={},ve="https://vuestudymovieserver-clwlh.run.goorm.io";me.getModule=function(e,t){try{return i()({method:"get",baseURL:ve+e,headers:{Pragma:"no-cache","Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},params:Object(r["a"])({},t)})}catch(a){return console.error("[API][searchModule] getModule is failed url: ".concat(e,", error: ").concat(a))}};var he,_e=me,be=(he={},Object(se["a"])(he,B.ACTION_BOXOFFICE_LIST,(function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,u.getModule("/boxoffice/searchDailyBoxOfficeList.json",t).then((function(e){n(L.SET_BOXOFFICE_LIST,e.data.boxOfficeResult)}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log("박스오피스 조회 실패");case 9:case"end":return a.stop()}}),a,null,[[1,6]])})))()})),Object(se["a"])(he,B.ACTION_SEARCH_MOVIE,(function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,p.getModule("/movie",t).then((function(e){n(L.SET_SEARCH_MOVIE,e.data),console.log("result",e)}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log("영화 검색 실패");case 9:case"end":return a.stop()}}),a,null,[[1,6]])})))()})),Object(se["a"])(he,B.ACTION_BO_SEARCH_MOVIE,(function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,p.getModule("/boxOfficeMovie",t).then((function(e){n(L.SET_BO_SEARCH_MOVIE,e.data)}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log("박스오피스 영화 검색 실패");case 9:case"end":return a.stop()}}),a,null,[[1,6]])})))()})),Object(se["a"])(he,B.ACTION_KMDB_SEARCH_MOVIE,(function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,_e.getModule("/kmdbMovie",t).then((function(e){n(L.SET_KMDB_SEARCH_MOVIE,e.data)}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log("KMDB 영화 검색 실패");case 9:case"end":return a.stop()}}),a,null,[[1,6]])})))()})),he),Oe=be,ge={state:ie,mutations:de,getters:fe,actions:Oe};o["default"].use(re["a"]);var Me=new re["a"].Store({modules:{movie:ge},strict:!1});a("4ee2"),a("4dcb"),a("b277"),a("a7a3");o["default"].config.productionTip=!1,o["default"].use(v),o["default"].use(_.a),new o["default"]({router:oe,store:Me,render:function(e){return e(k)}}).$mount("#app")},"580c":function(e,t,a){"use strict";var n=a("c743"),o=a.n(n);o.a},"649f":function(e,t,a){e.exports=a.p+"img/iconLogo.7606aad3.png"},6608:function(e,t,a){"use strict";var n=a("51e8"),o=a.n(n);o.a},"6ccb":function(e,t,a){"use strict";var n=a("98d0"),o=a.n(n);o.a},"85ec":function(e,t,a){},"98d0":function(e,t,a){},af56:function(e,t,a){"use strict";var n=a("b01d"),o=a.n(n);o.a},b01d:function(e,t,a){},b277:function(e,t,a){},c743:function(e,t,a){}});
//# sourceMappingURL=app.b8ea38e6.js.map